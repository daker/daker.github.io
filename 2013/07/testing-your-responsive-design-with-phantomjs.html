<!DOCTYPE html>
<html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">
    <meta charset="utf-8">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//google-analytics.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//platform.twitter.com">
    <link rel="dns-prefetch" href="//disqus.com">
    <link rel="dns-prefetch" href="//undefined.disqus.com">
    <link rel="dns-prefetch" href="//mediacdn.disqus.com">
    <link rel="dns-prefetch" href="//daker-blog.disqus.com">
    <link rel="dns-prefetch" href="//referrer.disqus.com">
    <link rel="dns-prefetch" href="//juggler.services.disqus.com">
    <link rel="dns-prefetch" href="//realtime.services.disqus.com">
    <link rel="dns-prefetch" href="//p.twitter.com">
    <link rel="dns-prefetch" href="//cdn.api.twitter.com">
    <link rel="dns-prefetch" href="//themes.googleusercontent.com"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="msvalidate.01" content="A9896803DADDF85332F6A520107ECEBE" />
    <meta name="google-site-verification" content="qA5fQYo10u0jB6kurgbIyQI03Yjm5hv99Ll68_c3jYQ" />
    <meta name="author" content="Adnane Belmadiaf">
    <link rel="author" href="https://plus.google.com/101694416703170881163" />
    <link rel="stylesheet" href="/assets/css/app.min.css" type="text/css">
    <title>Testing your responsive design with PhantomJS — Adnane Belmadiaf's Blog</title>
    <meta name="description" content="User testing is an important aspect of the development process of any project, headless browsers can be great for automating and testing web pages programmatically, PhantomJS is a headless WebKit with JavaScript API, which mean that the rendered web pages are never actually displayed, just because PhantomJS is a browser but without a GUI.">
    <meta name="keywords" content="nodejs, phantomjs">
    <meta property="og:image" content="http://daker.me/assets/images/avatar.png">
    <meta property="og:title" content="Testing your responsive design with PhantomJS — Adnane Belmadiaf's Blog">
    <meta property="og:site_name" content="Adnane Belmadiaf's Blog">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@AdnaneBelmadiaf">
    <meta property="twitter:image" content="http://daker.me/assets/images/avatar.png">
    <meta property="twitter:title" content="Testing your responsive design with PhantomJS — Adnane Belmadiaf's Blog">
    <meta property="twitter:url" content="http://daker.me/2013/07/testing-your-responsive-design-with-phantomjs.html">
    <meta name="twitter:creator" content="@AdnaneBelmadiaf">
    <meta property="og:description" content="User testing is an important aspect of the development process of any project, headless browsers can be great for automating and testing web pages programmatically, PhantomJS is a headless WebKit with JavaScript API, which mean that the rendered web pages are never actually displayed, just because PhantomJS is a browser but without a GUI.">
    <meta name="twitter:description" content="User testing is an important aspect of the development process of any project, headless browsers can be great for automating and testing web pages programmatically, PhantomJS is a headless WebKit with JavaScript API, which mean that the rendered web pages are never actually displayed, just because PhantomJS is a browser but without a GUI.">
    <script type="text/javascript" charset="utf-8" src="//code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/main.js"></script>
    <link rel="prev" title="Understanding CSS3 box-sizing property" href="http://daker.me/2013/07/understanding-css3-box-sizing-property.html" />
    <link rel="next" title="Why Stylus fit better my needs" href="http://daker.me/2013/07/why-stylus-fit-better-my-needs.html" />
    <meta property="article:author" content="https://www.facebook.com/AdnaneBelmadiaf" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/apple-touch-icon-precomposed-144.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/apple-touch-icon-precomposed-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/apple-touch-icon-precomposed-72.png">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="alternate" href="/feed.xml" type="application/atom+xml">
    <link rel="alternate" href="/feed-ubuntuplanet.xml" type="application/atom+xml">
    <link rel="stylesheet" href="/assets/css/pygments.css" type="text/css">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41135963-1', 'daker.me');
      ga('send', 'pageview');
    </script>
</head>
<body itemscope itemtype="http://schema.org/CreativeWork">
    <div id="nav">
        <a href="/">Blog</a>
        <a href="/archives/">Archives</a>
        <a href="/feed.xml">Feed</a>
    </div>
    <div class="container" id="container">
        <aside id="sidebar">
            <a href="https://twitter.com/AdnaneBelmadiaf/" target="_blank" class="post-author-image" title="Go to my twitter profil">
                <img src="/assets/images/avatar.png" alt="Avatar">
            </a>
            <div class="post-author-info">
                <span class="post-author-name">Adnane Belmadiaf</span>
                <p>
                    Front-end developer
                </p>
            </div>
            
<div class="post-published-date"> <strong>Published</strong>
    <p>
        <time datetime="2013-07-13 14:30:00+01:00" class="post-date">Jul 13, 2013 at 14:30</time>
    </p>
</div>

<div class="post-reading-time"> <strong>Reading time</strong>
    <p id="readingtime">---</p>
</div>

<div class="post-tags">
    <strong>Tags</strong>
    <p>
        
        <a href="/tags/nodejs/" itemprop="keywords">#nodejs</a>, 
        
        <a href="/tags/phantomjs/" itemprop="keywords">#phantomjs</a>
        
    </p>
</div>



            <iframe id="indiegogo" src="http://www.indiegogo.com/project/461046/widget/4138594" width="224" height="486"></iframe>
        </aside>

        <section class="posts">
            
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <h1 itemprop="name headline" class="post-title">Testing your responsive design with PhantomJS</h1>
    </header>
    <div class="post-social">
        <div class="post-social-button">
            <fb:like href="http://daker.me/2013/07/testing-your-responsive-design-with-phantomjs.html" send="false" show_faces="false"  layout="button_count" width="92" ></fb:like>
        </div>
        <div class="post-social-button">
            <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://daker.me/2013/07/testing-your-responsive-design-with-phantomjs.html" data-count="horizontal" data-text="Testing your responsive design with PhantomJS" data-via="AdnaneBelmadiaf" data-related="AdnaneBelmadiaf"></a>
        </div>
        <div class="post-social-button">
        <a class="FlattrButton" style="display:none;" href="http://daker.me/2013/07/testing-your-responsive-design-with-phantomjs.html" title="Testing your responsive design with PhantomJS" data-flattr-uid="daker" data-flattr-button="compact" data-flattr-tags="nodejs, phantomjs" data-flattr-category="text" data-flattr-lang="en_US">User testing is an important aspect of the development process of any project, headless browsers can be great for automating and testing web pages programmatically, PhantomJS is a headless WebKit with JavaScript API, which mean that the rendered web pages are never actually displayed, just because PhantomJS is a browser but without a GUI.</a>
        </div>
        <div class="post-social-button">
            <a href="http://bufferapp.com/add" class="buffer-add-button" data-count="horizontal" data-url="http://daker.me/2013/07/testing-your-responsive-design-with-phantomjs.html" data-via="AdnaneBelmadiaf" data-picture="http://daker.me/assets/images/avatar.png"></a>
        </div>

        <div class="post-social-button">
            <div class="g-plusone" data-size="medium" data-href="http://daker.me/2013/07/testing-your-responsive-design-with-phantomjs.html"></div>
        </div>
    </div>
    <div class="post-content">
        <div class="post-field body" itemprop="articleBody"><p>User testing is an important aspect of the development process of any project, headless browsers can be great for automating and testing web pages programmatically, PhantomJS is a headless WebKit with JavaScript API, which mean that the rendered web pages are never actually displayed, just because PhantomJS is a browser but without a GUI.</p>

<p><img src="/assets/posts/phantomjs.png" alt="PhantomJS"></p>
<h2>Installation</h2><h3>Ubuntu</h3><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>sudo add-apt-repository ppa:chris-lea/node.js
<span class="nv">$ </span>sudo apt-get update
<span class="nv">$ </span>sudo apt-get install nodejs
<span class="nv">$ </span>sudo npm install -g phantomjs
</pre></div>
</td></tr></table></div></div><h3>Mac OSX</h3><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>brew install node
<span class="nv">$ </span>curl https://npmjs.org/install.sh | sh
<span class="nv">$ </span>npm install -g phantomjs
</pre></div>
</td></tr></table></div></div>
<p>Now you should now have PhantomJS installed, you check that by running :<br>
<code>$ phantomjs --version</code></p>

<p>PhantomJS is very powerfull tool, it lets you manipulate pages, access page settings(prevent loading images, prevent running Javascript), accessing the filesystem, running Javascript and you can capture webpage, it can be coupled with other testing frameworks(like QUnitJS)</p>
<h2>Testing your responsive design</h2>
<p>PhantomJS can capture the content of any webpage in PNG, JPEG, GIF or PDF file, it let&#39;s you set the viewport size, the zoom factor, the user-agent and more usefull stuff.</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">    requires: phantomjs, async</span>
<span class="cm">    usage: phantomjs capture.js</span>
<span class="cm">*/</span>
<span class="kd">var</span> <span class="nx">async</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;async&#39;</span><span class="p">),</span>
    <span class="nx">sizes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">320</span><span class="p">,</span> <span class="mi">480</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">320</span><span class="p">,</span> <span class="mi">568</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">1024</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">768</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">800</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1440</span><span class="p">,</span> <span class="mi">900</span><span class="p">]</span>
    <span class="p">];</span>

<span class="kd">function</span> <span class="nx">capture</span><span class="p">(</span><span class="nx">sizes</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;webpage&#39;</span><span class="p">).</span><span class="nx">create</span><span class="p">();</span>
    <span class="nx">page</span><span class="p">.</span><span class="nx">viewportSize</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">width</span><span class="o">:</span> <span class="nx">sizes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="nx">height</span><span class="o">:</span> <span class="nx">sizes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">};</span>
    <span class="nx">page</span><span class="p">.</span><span class="nx">zoomFactor</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nx">page</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">&#39;http://daker.me&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">filename</span> <span class="o">=</span> <span class="nx">sizes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;x&#39;</span> <span class="o">+</span> <span class="nx">sizes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span><span class="p">;</span>
        <span class="nx">page</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;./screenshots/&#39;</span> <span class="o">+</span> <span class="nx">filename</span><span class="p">);</span>
        <span class="nx">page</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="nx">async</span><span class="p">.</span><span class="nx">eachSeries</span><span class="p">(</span><span class="nx">sizes</span><span class="p">,</span> <span class="nx">capture</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;done!&#39;</span><span class="p">);</span>
    <span class="nx">phantom</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div></div>
<p>I have coupled PhantomJS with <a href="https://github.com/caolan/async">async.js</a> so i can take multiple screenshots, now all you need to do is to run <code>phantomjs capture.js</code> from the commandline, the good part is that PhantomJS will capture all the page not only the viewport.</p>

<p><img src="/assets/posts/phantomjs-demo.png" alt="Responsive Design Screenshots"></p>

<p><strong>UPDATE 14/07/2013</strong> : The script also works with <a href="http://slimerjs.org/">SlimerJS</a>, SlimerJS is similar to PhantomJs, except that it runs Gecko, the browser engine of Mozilla Firefox, instead of Webkit.</p>

<p><blockquote class="twitter-tweet"><p>Testing your <a href="https://twitter.com/search?q=%23responsivedesign&amp;src=hash">#responsivedesign</a>? Take this script for PhantomJS and run it with SlimerJS <a href="http://t.co/wyqiIJustE"><a href="http://t.co/wyqiIJustE">http://t.co/wyqiIJustE</a></a> by <a href="https://twitter.com/AdnaneBelmadiaf">@AdnaneBelmadiaf</a></p>&mdash; SlimerJS (@slimerjs) <a href="https://twitter.com/slimerjs/statuses/356172141277888513">July 13, 2013</a></blockquote><br>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>
</div>
    </div>

    <form action="http://daker.us7.list-manage.com/subscribe/post?u=ebd280d4e0da7cce97bd7a8ad&amp;id=327b2cec50" method="post" id="signup" name="signup-form">
        <h2>Join the Mailing List</h2>

        <div style="overflow: auto;">
            <div class="row" style="width: 48%;">By joining you'll receive a weekly e-mail with latest blog posts each Wednesday. Easy unsubscribe. No spam — your e-mail address will be safe.
            <div class="powerby">Powered by <a href="http://eepurl.com/Ci5NL" title="MailChimp - email marketing made easy and fun">MailChimp</a></div>
            </div>
            <div class="row" style="width: 50%; margin-right: 0;">
                <input type="email" name="EMAIL" id="email" required="required" placeholder="Your E-mail address will be safe.">
                <input type="submit" value="Subscribe" name="subscribe" id="subscribe-btn"> or Subscribe to the <a href="/feed.xml" title="Subscribe to the RSS feed">RSS feed</a> instead.
                <div id="response" style="display:none"></div>
            </div>
        </div>
    </form>

    
    <div class="prev-next">
        
        <div class="prev-post">
            <a href="/2013/07/understanding-css3-box-sizing-property.html" title="Understanding CSS3 box-sizing property" class="title">
                <span>Understanding CSS3 box-sizing property</span>
            </a>
        </div>
        
        
        <div class="next-post">
            <a href="/2013/07/why-stylus-fit-better-my-needs.html" title="Why Stylus fit better my needs" class="title">
                <span>Why Stylus fit better my needs</span>
            </a>
        </div>
        
    </div>
    
</article>
<section id="comment">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'daker-blog';
        var disqus_title = 'Testing your responsive design with PhantomJS';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the
        <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
</section>

        </section>
    </div>
    <div style="clear: both;"></div>
    <footer id="footer">
        <p class="copyright">
            Copyright &copy; 2013 Adnane Belmadiaf<br />
            This work is licensed under a <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a></p>
    </footer>

    
<script type="text/javascript" src="//connect.facebook.net/en_US/all.js#xfbml=1"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>
<script type="text/javascript" src="http://static.bufferapp.com/js/button.js"></script>
<script type="text/javascript">
(function() {
    var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
    s.type = 'text/javascript';
    s.async = true;
    s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
    t.parentNode.insertBefore(s, t);
})();
</script>


</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">
    <meta charset="utf-8">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//google-analytics.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//platform.twitter.com">
    <link rel="dns-prefetch" href="//disqus.com">
    <link rel="dns-prefetch" href="//undefined.disqus.com">
    <link rel="dns-prefetch" href="//mediacdn.disqus.com">
    <link rel="dns-prefetch" href="//daker-blog.disqus.com">
    <link rel="dns-prefetch" href="//referrer.disqus.com">
    <link rel="dns-prefetch" href="//juggler.services.disqus.com">
    <link rel="dns-prefetch" href="//realtime.services.disqus.com">
    <link rel="dns-prefetch" href="//p.twitter.com">
    <link rel="dns-prefetch" href="//cdn.api.twitter.com">
    <link rel="dns-prefetch" href="//themes.googleusercontent.com"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="msvalidate.01" content="A9896803DADDF85332F6A520107ECEBE" />
    <meta name="google-site-verification" content="qA5fQYo10u0jB6kurgbIyQI03Yjm5hv99Ll68_c3jYQ" />
    <meta name="author" content="Adnane Belmadiaf">
    <link rel="author" href="https://plus.google.com/101694416703170881163" />
    <link rel="stylesheet" href="/assets/css/app.min.css" type="text/css">
    <title>Automate Your Dev Environment With Vagrant — Adnane Belmadiaf's Blog</title>
    <meta name="description" content="I started feeling the need of automating my developement environments when i started contributing to several django projects run by the community, each project uses a different django version and several dependencies, thoses dependencies can be found or not on the Ubuntu version i use for my daily work. Vagrant is a great tool for those situations, it allow you to create and manage custom virtual environments to your needs using automated configuration technologies such as Chef, Puppet and Shell scripts.">
    <meta name="keywords" content="ubuntuplanet, vagrant">
    <meta property="og:image" content="http://daker.me/assets/images/avatar.png">
    <meta property="og:title" content="Automate Your Dev Environment With Vagrant — Adnane Belmadiaf's Blog">
    <meta property="og:site_name" content="Adnane Belmadiaf's Blog">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@AdnaneBelmadiaf">
    <meta property="twitter:image" content="http://daker.me/assets/images/avatar.png">
    <meta property="twitter:title" content="Automate Your Dev Environment With Vagrant — Adnane Belmadiaf's Blog">
    <meta property="twitter:url" content="http://daker.me/2013/09/automate-your-dev-environment-with-vagrant.html">
    <meta name="twitter:creator" content="@AdnaneBelmadiaf">
    <meta property="og:description" content="I started feeling the need of automating my developement environments when i started contributing to several django projects run by the community, each project uses a different django version and several dependencies, thoses dependencies can be found or not on the Ubuntu version i use for my daily work. Vagrant is a great tool for those situations, it allow you to create and manage custom virtual environments to your needs using automated configuration technologies such as Chef, Puppet and Shell scripts.">
    <meta name="twitter:description" content="I started feeling the need of automating my developement environments when i started contributing to several django projects run by the community, each project uses a different django version and several dependencies, thoses dependencies can be found or not on the Ubuntu version i use for my daily work. Vagrant is a great tool for those situations, it allow you to create and manage custom virtual environments to your needs using automated configuration technologies such as Chef, Puppet and Shell scripts.">
    <link rel="prev" title="Introduction to Web Components, the Next Generation Markup" href="http://daker.me/2013/09/introduction-to-web-components-next-generation-markup.html" />
    <link rel="next" title="Package your Webapp for Ubuntu Touch" href="http://daker.me/2013/10/package-your-webapp-for-ubuntu-touch.html" />
    <meta property="article:author" content="https://www.facebook.com/AdnaneBelmadiaf" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/apple-touch-icon-precomposed-144.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/apple-touch-icon-precomposed-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/apple-touch-icon-precomposed-72.png">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="alternate" href="/feed.xml" type="application/atom+xml">
    <link rel="alternate" href="/feed-ubuntuplanet.xml" type="application/atom+xml">
</head>
<body itemscope itemtype="http://schema.org/CreativeWork">
    <header class="site-header">
        <form action="." id="searchForm">
            <input type="search" placeholder="Search..." name="q" id="q" accesskey="s" autocomplete="off" required="">
        </form>
        <menu id="nav">
            <a href="/">Blog</a>
            <a href="/archives/">Archives</a>
            <a href="/demos/">Demos</a>
            <a href="/feed.xml">Feed</a>
        </menu>
    </header>

    <main class="content">
        <aside id="sidebar">
            <a href="/" class="post-author-image" title="Homepage">
                <img src="/assets/images/avatar.png" alt="Avatar">
            </a>
            <div class="post-author-info">
                <span class="post-author-name">Adnane Belmadiaf</span>
                <p>
                    Front-end developer
                </p>
                <div class="post-author-icons">
                    <a href="https://launchpad.net/~daker" class="icon-tux" title="Launchpad" target="_blank"></a>
                    <a href="https://github.com/daker" class="icon-github" title="Github" target="_blank"></a>
                    <a href="https://plus.google.com/101694416703170881163" class="icon-google-plus" title="Google Plus" target="_blank"></a>
                    <a href="https://twitter.com/AdnaneBelmadiaf" class="icon-twitter" title="Twitter" target="_blank"></a>
                    <a style="margin-right: 0;" href="/feed.xml" class="icon-feed" title="RSS feed" target="_blank"></a>
                </div>
            </div>
            
<div class="post-published-date"> <strong>Published</strong>
    <p>
        <time datetime="2013-09-29 18:00:00+01:00" class="post-date">Sep 29, 2013 at 18:00</time>
    </p>
</div>

<div class="post-tags">
    <strong>Tags</strong>
    <p>
        
        <a href="/tags/ubuntuplanet/" itemprop="keywords">#ubuntuplanet</a>, 
        
        <a href="/tags/vagrant/" itemprop="keywords">#vagrant</a>
        
    </p>
</div>


            <div id="bsap_1290676" class="bsarocks bsap_af6bf8f7d59e09aa41173c9e7d776de9"></div>
            <a href="http://adpacks.com" id="bsap_aplink">via Ad Packs</a>
        </aside>

        <section class="posts">
            
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <h2 itemprop="name headline" class="post-title">Automate Your Dev Environment With Vagrant</h2>
    </header>
    <div class="post-social">
        <div class="post-social-button">
            <fb:like href="http://daker.me/2013/09/automate-your-dev-environment-with-vagrant.html" send="false" show_faces="false"  layout="button_count" width="92" ></fb:like>
        </div>
        <div class="post-social-button">
            <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://daker.me/2013/09/automate-your-dev-environment-with-vagrant.html" data-count="horizontal" data-text="Automate Your Dev Environment With Vagrant" data-via="AdnaneBelmadiaf" data-related="AdnaneBelmadiaf"></a>
        </div>
        <div class="post-social-button">
        <a class="FlattrButton" style="display:none;" href="http://daker.me/2013/09/automate-your-dev-environment-with-vagrant.html" title="Automate Your Dev Environment With Vagrant" data-flattr-uid="daker" data-flattr-button="compact" data-flattr-tags="ubuntuplanet, vagrant" data-flattr-category="text" data-flattr-lang="en_US">I started feeling the need of automating my developement environments when i started contributing to several django projects run by the community, each project uses a different django version and several dependencies, thoses dependencies can be found or not on the Ubuntu version i use for my daily work. Vagrant is a great tool for those situations, it allow you to create and manage custom virtual environments to your needs using automated configuration technologies such as Chef, Puppet and Shell scripts.</a>
        </div>
        <div class="post-social-button">
            <a href="http://bufferapp.com/add" class="buffer-add-button" data-count="horizontal" data-url="http://daker.me/2013/09/automate-your-dev-environment-with-vagrant.html" data-via="AdnaneBelmadiaf" data-picture="http://daker.me/assets/images/avatar.png"></a>
        </div>

        <div class="post-social-button">
            <div class="g-plusone" data-size="medium" data-href="http://daker.me/2013/09/automate-your-dev-environment-with-vagrant.html"></div>
        </div>
    </div>
    <div class="post-content">
        <div class="post-field body" itemprop="articleBody"><p>I started feeling the need of automating my developement environments when i started contributing to several django projects run by the community, each project uses a different django version and several dependencies, thoses dependencies can be found or not on the Ubuntu version i use for my daily work. Vagrant is a great tool for those situations, it allow you to create and manage custom virtual environments to your needs using automated configuration technologies such as Chef, Puppet and Shell scripts.</p>

<p><img src="/assets/posts/vagrant/vagrant.jpg" alt="Vagrant"></p>
<h2>Installing Vagrant</h2>
<p>Vagrant works with VirtualBox, and support <a href="http://www.vagrantup.com/vmware">Vmware Fusion</a> and AWS via plugins</p>
<h3>Install Virtualbox</h3><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install virtualbox
</pre></div>
</td></tr></table></div></div><h3>Install Vagrant</h3><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install vagrant
</pre></div>
</td></tr></table></div></div>
<p>Make sure Vagrant is installed correctly</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>vagrant --version
Vagrant version 1.2.0
</pre></div>
</td></tr></table></div></div><h2>Get your first VM up and running</h2>
<ol>
<li><p>start a vagrant config file in an empty project folder. this will create <code>Vagrantfile</code></p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>mkdir project
<span class="nv">$ </span><span class="nb">cd </span>project
<span class="nv">$ </span>vagrant init
</pre></div>
</td></tr></table></div></div></li>
<li><p>edit <code>Vagrantfile</code> to add the boxname</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="ss">Vagrant</span><span class="p">:</span><span class="ss">:Config</span><span class="o">.</span><span class="n">run</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
    <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="s2">&quot;devserver&quot;</span>
<span class="k">end</span>
</pre></div>
</td></tr></table></div></div></li>
<li><p>add a base image or box to quickly clone a virtual machine. this will create a folder .vagrant with an ubuntu box</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>vagrant box add devserver http://files.vagrantup.com/precise32.box
</pre></div>
</td></tr></table></div></div></li>
<li><p>then you are ready to go</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>vagrant up
<span class="o">[</span>default<span class="o">]</span> Importing base box <span class="s1">&#39;precise32&#39;</span>...
<span class="o">[</span>default<span class="o">]</span> Matching MAC address <span class="k">for </span>NAT networking...
<span class="o">[</span>default<span class="o">]</span> Clearing any previously <span class="nb">set </span>forwarded ports...
<span class="o">[</span>default<span class="o">]</span> Forwarding ports...
<span class="o">[</span>default<span class="o">]</span> -- <span class="nv">22</span> <span class="o">=</span>&gt; 2222 <span class="o">(</span>adapter 1<span class="o">)</span>
<span class="o">[</span>default<span class="o">]</span> Creating shared folders metadata...
<span class="o">[</span>default<span class="o">]</span> Clearing any previously <span class="nb">set </span>network interfaces...
<span class="o">[</span>default<span class="o">]</span> Booting VM...
<span class="o">[</span>default<span class="o">]</span> Waiting <span class="k">for </span>VM to boot. This can take a few minutes.
<span class="o">[</span>default<span class="o">]</span> VM booted and ready <span class="k">for </span>use!
<span class="o">[</span>default<span class="o">]</span> Mounting shared folders...
<span class="o">[</span>default<span class="o">]</span> -- v-root: /vagrant
<span class="o">[</span>...<span class="o">]</span>
</pre></div>
</td></tr></table></div></div></li>
</ol>

<p>Wait for the command to finish, then you will have a VM ready for you to connect. the VM can be accessed via SSH:</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>vagrant ssh
</pre></div>
</td></tr></table></div></div><h2>Provisioning</h2>
<p>Vagrant allow you to use different Provisioners to easily setup your VM with everything it needs to run your project :</p>

<ul>
<li>Chef Solo</li>
<li>Chef Server</li>
<li>Puppet Standalone</li>
<li>Puppet Server</li>
<li>Shell</li>
</ul>

<p>I do prefer Puppet for provisioning, because it&#39;s easy and it allow you to easily create a manifest to control the package, file or service with a few lines of code.</p>

<p>Here is the <code>Vagrantfile</code> i use, i needed to forward the port 8000 because i want to access the webapp using my browser, i also increased the memory of the VM to 1GB, and made the project folder accessible to the VM :</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># -*- mode: ruby -*-</span>
<span class="c1"># vi: set ft=ruby :</span>

<span class="ss">Vagrant</span><span class="p">:</span><span class="ss">:Config</span><span class="o">.</span><span class="n">run</span> <span class="k">do</span> <span class="o">|</span><span class="n">ltp</span><span class="o">|</span>

    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="s2">&quot;ltp-devserver&quot;</span>
    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box_url</span> <span class="o">=</span> <span class="s2">&quot;http://files.vagrantup.com/precise32.box&quot;</span>
    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">forward_port</span> <span class="mi">8000</span><span class="p">,</span> <span class="mi">8000</span>
    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">network</span> <span class="ss">:hostonly</span><span class="p">,</span> <span class="s2">&quot;33.33.33.10&quot;</span>
    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&quot;modifyvm&quot;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&quot;--memory&quot;</span><span class="p">,</span> <span class="mi">1024</span><span class="o">]</span>

    <span class="n">ltp</span><span class="o">.</span><span class="n">ssh</span><span class="o">.</span><span class="n">max_tries</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">ltp</span><span class="o">.</span><span class="n">ssh</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="mi">300</span>

    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">share_folder</span><span class="p">(</span><span class="s2">&quot;v-root&quot;</span><span class="p">,</span> <span class="s2">&quot;/home/vagrant/ltp&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>

    <span class="n">ltp</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">provision</span> <span class="ss">:puppet</span> <span class="k">do</span> <span class="o">|</span><span class="n">puppet</span><span class="o">|</span>
        <span class="n">puppet</span><span class="o">.</span><span class="n">manifests_path</span> <span class="o">=</span> <span class="s2">&quot;puppet/manifests&quot;</span>
        <span class="n">puppet</span><span class="o">.</span><span class="n">manifest_file</span>  <span class="o">=</span> <span class="s2">&quot;vagrant.pp&quot;</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</td></tr></table></div></div>
<p>here one of the classes i use on my dev environement :</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre>class init <span class="o">{</span>

    group <span class="o">{</span> <span class="s2">&quot;puppet&quot;</span>:
        <span class="nv">ensure</span> <span class="o">=</span>&gt; <span class="s2">&quot;present&quot;</span>,
    <span class="o">}</span>

    <span class="c"># Let&#39;s update the system</span>
    <span class="nb">exec</span> <span class="o">{</span> <span class="s2">&quot;update-apt&quot;</span>:
        <span class="nb">command</span> <span class="o">=</span>&gt; <span class="s2">&quot;sudo apt-get update&quot;</span>,
    <span class="o">}</span>

    <span class="c"># Let&#39;s install the dependecies</span>
    package <span class="o">{</span>
        <span class="o">[</span><span class="s2">&quot;python&quot;</span>, <span class="s2">&quot;python-dev&quot;</span>, <span class="s2">&quot;libjs-jquery&quot;</span>, <span class="s2">&quot;libjs-jquery-ui&quot;</span>, <span class="s2">&quot;iso-codes&quot;</span>, <span class="s2">&quot;gettext&quot;</span>, <span class="s2">&quot;python-pip&quot;</span>, <span class="s2">&quot;bzr&quot;</span><span class="o">]</span>:
        <span class="nv">ensure</span> <span class="o">=</span>&gt; installed,
        <span class="nv">require</span> <span class="o">=</span>&gt; Exec<span class="o">[</span><span class="s1">&#39;update-apt&#39;</span><span class="o">]</span> <span class="c"># The system update needs to run first</span>
    <span class="o">}</span>

    <span class="c"># Let&#39;s install the project dependecies from pip</span>
    <span class="nb">exec</span> <span class="o">{</span> <span class="s2">&quot;pip-install-requirements&quot;</span>:
        <span class="nb">command</span> <span class="o">=</span>&gt; <span class="s2">&quot;sudo /usr/bin/pip install -r $PROJ_DIR/requirements.txt&quot;</span>,
        <span class="nv">tries</span> <span class="o">=</span>&gt; 2,
        <span class="nv">timeout</span> <span class="o">=</span>&gt; 600, <span class="c"># Too long, but this can take awhile</span>
        <span class="nv">require</span> <span class="o">=</span>&gt; Package<span class="o">[</span><span class="s1">&#39;python-pip&#39;</span>, <span class="s1">&#39;python-dev&#39;</span><span class="o">]</span>, <span class="c"># The package dependecies needs to run first</span>
        <span class="nv">logoutput</span> <span class="o">=</span>&gt; on_failure,
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
</td></tr></table></div></div>
<p>You need to specify one manifest file in your Vagranfile, if you need to split it, you can use something like this :</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>tree
.
└── manifests
    ├── classes
    │   ├── init.pp
    │   └── ltp.pp
    └── vagrant.pp
</pre></div>
</td></tr></table></div></div>
<p>I use <code>vagrant.pp</code> to define my project variables, and to make sure all the classes are executed in the order i want :</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre>import <span class="s2">&quot;classes/*.pp&quot;</span>

<span class="nv">$PROJ_DIR</span> <span class="o">=</span> <span class="s2">&quot;/home/vagrant/ltp&quot;</span>

Exec <span class="o">{</span>
    <span class="nv">path</span> <span class="o">=</span>&gt; <span class="s2">&quot;/usr/local/bin:/usr/bin:/usr/sbin:/sbin:/bin&quot;</span>,
<span class="o">}</span>

class dev <span class="o">{</span>

    class <span class="o">{</span>
        init: <span class="nv">before</span> <span class="o">=</span>&gt; Class<span class="o">[</span>ltp<span class="o">]</span>;
        ltp:;
    <span class="o">}</span>
<span class="o">}</span>

include dev
</pre></div>
</td></tr></table></div></div>
<p>The <code>ltp</code> class is only used to run some <code>django</code> commands :</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre>class ltp <span class="o">{</span>

    file <span class="o">{</span> <span class="s2">&quot;$PROJ_DIR/loco_directory/local_settings.py&quot;</span>:
        <span class="nv">ensure</span> <span class="o">=</span>&gt; file,
        <span class="nb">source</span> <span class="o">=</span>&gt; <span class="s2">&quot;$PROJ_DIR/loco_directory/local_settings.py.sample&quot;</span>,
        <span class="nv">replace</span> <span class="o">=</span>&gt; <span class="nb">false</span>;
    <span class="o">}</span>

    <span class="nb">exec</span> <span class="o">{</span>
        <span class="s2">&quot;db_download&quot;</span>:
            <span class="nv">cwd</span> <span class="o">=</span>&gt; <span class="s2">&quot;$PROJ_DIR/loco_directory&quot;</span>,
            <span class="nb">command</span> <span class="o">=</span>&gt; <span class="s2">&quot;/usr/bin/wget http://people.ubuntu.com/~daker/ltp/ltp.db&quot;</span>,
            <span class="nv">creates</span> <span class="o">=</span>&gt; <span class="s2">&quot;$PROJ_DIR/loco_directory/ltp.db&quot;</span>;
    <span class="o">}</span>

    <span class="nb">exec</span> <span class="o">{</span>
        <span class="s2">&quot;managepy_syncdb&quot;</span>:
            <span class="nv">cwd</span> <span class="o">=</span>&gt; <span class="s2">&quot;$PROJ_DIR/loco_directory&quot;</span>,
            <span class="nb">command</span> <span class="o">=</span>&gt; <span class="s2">&quot;/usr/bin/python manage.py syncdb --noinput&quot;</span>,
    <span class="o">}</span>

    <span class="nb">exec</span> <span class="o">{</span>
        <span class="s2">&quot;managepy_migratedb&quot;</span>:
            <span class="nv">cwd</span> <span class="o">=</span>&gt; <span class="s2">&quot;$PROJ_DIR/loco_directory&quot;</span>,
            <span class="nb">command</span> <span class="o">=</span>&gt; <span class="s2">&quot;/usr/bin/python manage.py migrate&quot;</span>,
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Now all i have to do is <code>vagrant up</code> and let Vagrant do all his magic tricks :</p>
<div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>vagrant up
<span class="o">[</span>default<span class="o">]</span> Importing base box <span class="s1">&#39;ltp-devserver&#39;</span>...
<span class="o">[</span>default<span class="o">]</span> Matching MAC address <span class="k">for </span>NAT networking...
<span class="o">[</span>default<span class="o">]</span> Clearing any previously <span class="nb">set </span>forwarded ports...
<span class="o">[</span>default<span class="o">]</span> Forwarding ports...
<span class="o">[</span>default<span class="o">]</span> -- <span class="nv">22</span> <span class="o">=</span>&gt; 2222 <span class="o">(</span>adapter 1<span class="o">)</span>
<span class="o">[</span>default<span class="o">]</span> -- <span class="nv">8000</span> <span class="o">=</span>&gt; 8000 <span class="o">(</span>adapter 1<span class="o">)</span>
<span class="o">[</span>default<span class="o">]</span> Creating shared folders metadata...
<span class="o">[</span>default<span class="o">]</span> Clearing any previously <span class="nb">set </span>network interfaces...
<span class="o">[</span>default<span class="o">]</span> Preparing network interfaces based on configuration...
<span class="o">[</span>default<span class="o">]</span> Running any VM customizations...
<span class="o">[</span>default<span class="o">]</span> Booting VM...
<span class="o">[</span>default<span class="o">]</span> Waiting <span class="k">for </span>VM to boot. This can take a few minutes.
<span class="o">[</span>default<span class="o">]</span> VM booted and ready <span class="k">for </span>use!
<span class="o">[</span>default<span class="o">]</span> Configuring and enabling network interfaces...
<span class="o">[</span>default<span class="o">]</span> Mounting shared folders...
<span class="o">[</span>default<span class="o">]</span> -- v-root: /home/vagrant/ltp
<span class="o">[</span>default<span class="o">]</span> -- manifests: /tmp/vagrant-puppet/manifests
<span class="o">[</span>default<span class="o">]</span> Running provisioner: Vagrant::Provisioners::Puppet...
<span class="o">[</span>default<span class="o">]</span> Running Puppet with /tmp/vagrant-puppet/manifests/vagrant.pp...
stdin: is not a tty
warning: Could not retrieve fact fqdn

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Exec<span class="o">[</span>update-apt<span class="o">]</span>/returns: executed successfully

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Package<span class="o">[</span>python-pip<span class="o">]</span>/ensure: ensure changed <span class="s1">&#39;purged&#39;</span> to <span class="s1">&#39;present&#39;</span>

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Package<span class="o">[</span>bzr<span class="o">]</span>/ensure: ensure changed <span class="s1">&#39;purged&#39;</span> to <span class="s1">&#39;present&#39;</span>

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Package<span class="o">[</span>libjs-jquery-ui<span class="o">]</span>/ensure: ensure changed <span class="s1">&#39;purged&#39;</span> to <span class="s1">&#39;present&#39;</span>

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Package<span class="o">[</span>python-dev<span class="o">]</span>/ensure: ensure changed <span class="s1">&#39;purged&#39;</span> to <span class="s1">&#39;present&#39;</span>

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Exec<span class="o">[</span>pip-install-requirements<span class="o">]</span>/returns: executed successfully

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Init/Package<span class="o">[</span>gettext<span class="o">]</span>/ensure: ensure changed <span class="s1">&#39;purged&#39;</span> to <span class="s1">&#39;present&#39;</span>

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Ltp/File<span class="o">[</span>/home/vagrant/ltp/loco_directory/local_settings.py<span class="o">]</span>/ensure: defined content as <span class="s1">&#39;{md5}25234f94c80418dcb7cc59f3db2dd7f8&#39;</span>

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Ltp/Exec<span class="o">[</span>db_download<span class="o">]</span>/returns: executed successfully

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Ltp/Exec<span class="o">[</span>managepy_syncdb<span class="o">]</span>/returns: executed successfully

notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Ltp/Exec<span class="o">[</span>managepy_migratedb<span class="o">]</span>/returns: executed successfully

notice: Finished catalog run in 811.47 seconds
</pre></div>
</td></tr></table></div></div>
<p>After i started using Vagrant, my workflow imporved a lot i start focusing on writing code rather than resolving packages conflicts, i do use a VM for each bug fix/feature i need to work on, and once the fix is merged i simply delete the VM without thinking about breaking anything.</p>

<p>[NB]: Ubuntu now officially supports Vagrant, and provides <a href="http://cloud-images.ubuntu.com/vagrant/">official Ubuntu boxes</a> for 12.04, 12.10, 13.04 and 13.10.</p>
</div>
    </div>

    <form action="http://daker.us7.list-manage.com/subscribe/post?u=ebd280d4e0da7cce97bd7a8ad&amp;id=327b2cec50" method="post" id="signup" name="signup-form">
        <div class="row">
            <input type="email" name="EMAIL" id="email" required="required" placeholder="Your E-mail address will be safe.">
            <a href="/feed.xml" class="icon-feed " title="Subscribe to the RSS feed" target="_blank"></a>
            <input type="submit" value="Subscribe" name="subscribe" id="subscribe-btn">
        </div>
    </form>
    <div id="response" style="display:none"></div>
    <div class="notice">By joining you'll receive a weekly e-mail with latest blog posts each Wednesday. Easy unsubscribe. No spam — your e-mail address will be safe.</div>

    
    <div class="prev-next">
        
        <div class="prev-post">
            <a href="/2013/09/introduction-to-web-components-next-generation-markup.html" title="Introduction to Web Components, the Next Generation Markup" class="title">
                <span>Introduction to Web Components, the Next Generation Markup</span>
            </a>
        </div>
        
        
        <div class="next-post">
            <a href="/2013/10/package-your-webapp-for-ubuntu-touch.html" title="Package your Webapp for Ubuntu Touch" class="title">
                <span>Package your Webapp for Ubuntu Touch</span>
            </a>
        </div>
        
    </div>
    
</article>
<section id="comment">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'daker-blog';
        var disqus_title = 'Automate Your Dev Environment With Vagrant';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
</section>

        </section>
    </main>

    <footer class="site-footer">
        <p class="copyright">
            Copyright &copy; 2014 Adnane Belmadiaf<br />
            This work is licensed under a <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>
        </p>
    </footer>
    <script type="text/javascript">
        (function () {
            var bsa = document.createElement('script');
            bsa.type = 'text/javascript';
            bsa.async = true;
            bsa.src = '//s3.buysellads.com/ac/bsa.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(bsa);
        })();
    </script>
    <script type="text/javascript" charset="utf-8" src="//code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/main.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41135963-1', 'daker.me');
      ga('send', 'pageview');
    </script>
    
<script type="text/javascript" src="//connect.facebook.net/en_US/all.js#xfbml=1"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>
<script type="text/javascript" src="http://static.bufferapp.com/js/button.js"></script>
<script type="text/javascript">
(function() {
    var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
    s.type = 'text/javascript';
    s.async = true;
    s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
    t.parentNode.insertBefore(s, t);
})();
</script>
</body>
</html>
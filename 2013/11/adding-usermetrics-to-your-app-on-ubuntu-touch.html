<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">
    <meta charset="utf-8">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//google-analytics.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//platform.twitter.com">
    <link rel="dns-prefetch" href="//disqus.com">
    <link rel="dns-prefetch" href="//undefined.disqus.com">
    <link rel="dns-prefetch" href="//mediacdn.disqus.com">
    <link rel="dns-prefetch" href="//daker-blog.disqus.com">
    <link rel="dns-prefetch" href="//referrer.disqus.com">
    <link rel="dns-prefetch" href="//juggler.services.disqus.com">
    <link rel="dns-prefetch" href="//realtime.services.disqus.com">
    <link rel="dns-prefetch" href="//p.twitter.com">
    <link rel="dns-prefetch" href="//cdn.api.twitter.com">
    <link rel="dns-prefetch" href="//themes.googleusercontent.com"/>
    <meta name="robots" content="index,follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="msvalidate.01" content="A9896803DADDF85332F6A520107ECEBE" />
    <meta name="google-site-verification" content="qA5fQYo10u0jB6kurgbIyQI03Yjm5hv99Ll68_c3jYQ" />
    <meta name="author" content="Adnane Belmadiaf">
    <link rel="author" href="https://plus.google.com/101694416703170881163" />
    <link rel="stylesheet" href="/assets/css/app.min.css" type="text/css">
    <title>Adding UserMetrics to your app on Ubuntu Touch — Adnane Belmadiaf's Blog - Front-end Developer</title>
    <meta name="description" content="The Welcome Screen infographic is one of the key components for the customization of the user experience on Ubuntu Touch, beautiful visualisations of data from multiple sources, the UserMetrics is the responsible component for updating the infographic using QML.">
    <meta name="keywords" content="ubuntuplanet, utouchdev">
    <meta property="og:image" content="http://daker.me/assets/images/pp_sketch.jpg">
    <meta property="og:title" content="Adding UserMetrics to your app on Ubuntu Touch — Adnane Belmadiaf's Blog - Front-end Developer">
    <meta property="og:site_name" content="Adnane Belmadiaf's Blog - Front-end Developer">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@AdnaneBelmadiaf">
    <meta property="twitter:image" content="http://daker.me/assets/images/pp_sketch.jpg">
    <meta property="twitter:title" content="Adding UserMetrics to your app on Ubuntu Touch — Adnane Belmadiaf's Blog - Front-end Developer">
    <meta property="twitter:url" content="http://daker.me/2013/11/adding-usermetrics-to-your-app-on-ubuntu-touch.html">
    <meta name="twitter:creator" content="@AdnaneBelmadiaf">
    <meta property="og:description" content="The Welcome Screen infographic is one of the key components for the customization of the user experience on Ubuntu Touch, beautiful visualisations of data from multiple sources, the UserMetrics is the responsible component for updating the infographic using QML.">
    <meta name="twitter:description" content="The Welcome Screen infographic is one of the key components for the customization of the user experience on Ubuntu Touch, beautiful visualisations of data from multiple sources, the UserMetrics is the responsible component for updating the infographic using QML.">
    <link rel="prev" title="Web Apps Remote Debugging on Ubuntu Touch" href="http://daker.me/2013/11/web-apps-remote-debugging-on-ubuntu-touch.html" />
    <link rel="next" title="Devtools Console, from Novice to Ninja" href="http://daker.me/2013/12/devtools-console-from-novice-to-ninja.html" />
    <meta property="article:author" content="https://www.facebook.com/AdnaneBelmadiaf" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/apple-touch-icon-precomposed-144.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/apple-touch-icon-precomposed-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/apple-touch-icon-precomposed-72.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/images/apple-touch-icon-precomposed.png">
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="alternate" href="/feed.xml" type="application/atom+xml">
    <link rel="alternate" href="/feed-ubuntuplanet.xml" type="application/atom+xml">
</head>
<body itemscope itemtype="http://schema.org/CreativeWork">
    <header class="site-header">
        <form action="." id="searchForm">
            <input type="search" placeholder="Search..." name="q" id="q" accesskey="s" autocomplete="off" required="">
        </form>
        <menu id="nav">
            <a href="/">Blog</a>
            <a href="/archives/">Archives</a>
            <a href="/demos/">Demos</a>
            <a href="/feed.xml">Feed</a>
        </menu>
    </header>

    <main class="content">
        <aside id="sidebar">
            <div class="post-author-info">
                <a href="/" class="post-author-image" title="Homepage">
                    <img src="/assets/images/pp_sketch.jpg" alt="Adnane Belmadiaf's Profile Picture">
                </a>
                <span class="post-author-name">Adnane Belmadiaf</span>
                <p>
                    Front-end developer
                </p>
                <div class="post-author-icons">
                    <a href="https://launchpad.net/~daker" class="icon-tux" title="Launchpad" target="_blank"></a>
                    <a href="https://github.com/daker" class="icon-github" title="Github" target="_blank"></a>
                    <a href="https://plus.google.com/101694416703170881163" class="icon-google-plus" title="Google Plus" target="_blank"></a>
                    <a href="https://twitter.com/AdnaneBelmadiaf" class="icon-twitter" title="Twitter" target="_blank"></a>
                    <a style="margin-right: 0;" href="/feed.xml" class="icon-feed" title="RSS feed" target="_blank"></a>
                </div>
            </div>
            
<div class="post-published-date"> <strong>Published</strong>
    <p>
        <time datetime="2013-11-30 16:00:00+01:00" class="post-date">Nov 30, 2013 at 16:00</time>
    </p>
</div>

<div class="post-tags">
    <strong>Tags</strong>
    <p>
        
        <a href="/tags/ubuntuplanet/" itemprop="keywords">#ubuntuplanet</a>, 
        
        <a href="/tags/utouchdev/" itemprop="keywords">#utouchdev</a>
        
    </p>
</div>


            <script type="text/javascript" src="http://cdn.adpacks.com/adpacks.js?legacyid=1290676&amp;zoneid=1386&amp;key=af6bf8f7d59e09aa41173c9e7d776de9&amp;serve=C6SI42Y&amp;placement=dakerme&amp;circle=dev" id="_adpacks_js"></script>
        </aside>

        <section class="posts">
            
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <h2 itemprop="name headline" class="post-title">Adding UserMetrics to your app on Ubuntu Touch</h2>
    </header>
    <div class="post-social">
        <div class="post-social-button">
            <fb:like href="http://daker.me/2013/11/adding-usermetrics-to-your-app-on-ubuntu-touch.html" send="false" show_faces="false"  layout="button_count" width="92" ></fb:like>
        </div>
        <div class="post-social-button">
            <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://daker.me/2013/11/adding-usermetrics-to-your-app-on-ubuntu-touch.html" data-count="horizontal" data-text="Adding UserMetrics to your app on Ubuntu Touch" data-via="AdnaneBelmadiaf" data-related="AdnaneBelmadiaf"></a>
        </div>
        <div class="post-social-button">
        <a class="FlattrButton" style="display:none;" href="http://daker.me/2013/11/adding-usermetrics-to-your-app-on-ubuntu-touch.html" title="Adding UserMetrics to your app on Ubuntu Touch" data-flattr-uid="daker" data-flattr-button="compact" data-flattr-tags="ubuntuplanet, utouchdev" data-flattr-category="text" data-flattr-lang="en_US">The Welcome Screen infographic is one of the key components for the customization of the user experience on Ubuntu Touch, beautiful visualisations of data from multiple sources, the UserMetrics is the responsible component for updating the infographic using QML.</a>
        </div>
        <div class="post-social-button">
            <a href="http://bufferapp.com/add" class="buffer-add-button" data-count="horizontal" data-url="http://daker.me/2013/11/adding-usermetrics-to-your-app-on-ubuntu-touch.html" data-via="AdnaneBelmadiaf" data-picture="http://daker.me/assets/images/pp_sketch.jpg"></a>
        </div>

        <div class="post-social-button">
            <div class="g-plusone" data-size="medium" data-href="http://daker.me/2013/11/adding-usermetrics-to-your-app-on-ubuntu-touch.html"></div>
        </div>
    </div>
    <div class="post-content">
        <div class="post-field body" itemprop="articleBody"><p>The Welcome Screen infographic is one of the key components for the customization of the user experience on <a href="http://www.ubuntu.com/phone/install">Ubuntu Touch</a>, beautiful visualisations of data from multiple sources, the <code>UserMetrics</code> is the responsible component for updating the infographic using QML.</p>

<p><img src="/assets/posts/utouch/5.png" alt="Welcome Screen"></p>

<p>To use the <code>UserMetrics</code> QML module you need to install <code>qtdeclarative5-usermetrics0.1</code> package on the desktop :</p>
<pre><code data-language="sh">$ sudo apt-get install qtdeclarative5-usermetrics0.1
</code></pre><h2>Apparmor Policy groups</h2>
<p>Add the <code>usermetrics</code> to your apparmor file :</p>
<pre><code data-language="json">{
    &#34;policy_groups&#34;: [
        ...
        &#34;usermetrics&#34;
    ],
    &#34;policy_version&#34;: 1.0
}
</code></pre><h2>QML</h2>
<p>First you need to import the <code>UserMetrics</code> module :</p>
<pre><code data-language="sh">import UserMetrics 0.1
</code></pre>
<p>Then create the metric(s) :</p>
<pre><code data-language="sh">Metric {
    /* Set a unique ID for each metric object you use so you can access it in your QML code. */
    id: gameMetric

    /* Set a unique name for each metric object, this is used for the storage of the metric data. */
    name: &#34;game-metrics&#34;

    /* This is the format for the plural case. */
    format: &#34;%1 missions completed today&#34;

    /* This is the format for no data for the day. */
    emptyFormat: &#34;0 missions completed today&#34;

    /* This is the gettext domain used for the localisation, you can use the applicationName. */
    domain: &#34;com.ubuntu.developer.daker.mygame&#34;
}
</code></pre>
<p>The Metric component provides two methods :</p>

<p>— <code>increment(double amount = 1.0)</code> : You can use this method if you want to increment metric by a specific amount ex: gameMetric.increment(3) or gameMetric.increment() to increment the metric by 1.<br>
— <code>update(double value)</code> : You can use this method if you want to reset the metric and set a specific amount ex: gameMetric.update(5)</p>

<p>The use of the Metric is not limited by the number.</p>
</div>
    </div>

    <form action="http://daker.us7.list-manage.com/subscribe/post?u=ebd280d4e0da7cce97bd7a8ad&amp;id=327b2cec50" method="post" id="signup" name="signup-form">
        <div class="row">
            <input type="email" name="EMAIL" id="email" required="required" placeholder="Your E-mail address will be safe.">
            <a href="/feed.xml" class="icon-feed " title="Subscribe to the RSS feed" target="_blank"></a>
            <input type="submit" value="Subscribe" name="subscribe" id="subscribe-btn">
        </div>
    </form>
    <div id="response" style="display:none"></div>
    <div class="notice">By joining you'll receive a weekly e-mail with latest blog posts each Wednesday. Easy unsubscribe. No spam — your e-mail address will be safe.</div>

    
    <div class="prev-next">
        
        <div class="prev-post">
            <a href="/2013/11/web-apps-remote-debugging-on-ubuntu-touch.html" title="Web Apps Remote Debugging on Ubuntu Touch" class="title">
                <span>Web Apps Remote Debugging on Ubuntu Touch</span>
            </a>
        </div>
        
        
        <div class="next-post">
            <a href="/2013/12/devtools-console-from-novice-to-ninja.html" title="Devtools Console, from Novice to Ninja" class="title">
                <span>Devtools Console, from Novice to Ninja</span>
            </a>
        </div>
        
    </div>
    
</article>
<section id="comment">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'daker-blog';
        var disqus_title = 'Adding UserMetrics to your app on Ubuntu Touch';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
</section>

        </section>
    </main>

    <footer class="site-footer">
        <p class="copyright">
            Copyright &copy; 2014 Adnane Belmadiaf<br />
            This work is licensed under a <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>
        </p>
    </footer>
    <script type="text/javascript" charset="utf-8" src="//code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/main.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41135963-1', 'daker.me');
      ga('send', 'pageview');
    </script>
    
<script type="text/javascript" charset="utf-8" src="/assets/js/rainbow.min.js"></script>
<script type="text/javascript" charset="utf-8" src="/assets/js/languages/css.js"></script>
<script type="text/javascript" charset="utf-8" src="/assets/js/languages/html.js"></script>
<script type="text/javascript" charset="utf-8" src="/assets/js/languages/javascript.js"></script>
<script type="text/javascript" charset="utf-8" src="/assets/js/languages/python.js"></script>
<script type="text/javascript" charset="utf-8" src="/assets/js/languages/qml.js"></script>
<script type="text/javascript" src="//connect.facebook.net/en_US/all.js#xfbml=1"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>
<script type="text/javascript" src="http://static.bufferapp.com/js/button.js"></script>
<script type="text/javascript">
(function() {
    var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
    s.type = 'text/javascript';
    s.async = true;
    s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
    t.parentNode.insertBefore(s, t);
})();
</script>
</body>
</html>
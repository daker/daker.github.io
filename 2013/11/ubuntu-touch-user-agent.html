<!DOCTYPE html>
<html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">
    <meta charset="utf-8">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//google-analytics.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//platform.twitter.com">
    <link rel="dns-prefetch" href="//disqus.com">
    <link rel="dns-prefetch" href="//undefined.disqus.com">
    <link rel="dns-prefetch" href="//mediacdn.disqus.com">
    <link rel="dns-prefetch" href="//daker-blog.disqus.com">
    <link rel="dns-prefetch" href="//referrer.disqus.com">
    <link rel="dns-prefetch" href="//juggler.services.disqus.com">
    <link rel="dns-prefetch" href="//realtime.services.disqus.com">
    <link rel="dns-prefetch" href="//p.twitter.com">
    <link rel="dns-prefetch" href="//cdn.api.twitter.com">
    <link rel="dns-prefetch" href="//themes.googleusercontent.com"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="msvalidate.01" content="A9896803DADDF85332F6A520107ECEBE" />
    <meta name="google-site-verification" content="qA5fQYo10u0jB6kurgbIyQI03Yjm5hv99Ll68_c3jYQ" />
    <meta name="author" content="Adnane Belmadiaf">
    <link rel="author" href="https://plus.google.com/101694416703170881163" />
    <link rel="stylesheet" href="/assets/css/app.min.css" type="text/css">
    <title>Ubuntu Touch User-Agent — Adnane Belmadiaf's Blog</title>
    <meta name="description" content="With the launch of Ubuntu Touch v1.0, the OS now ships its own QtWebKit based browser which will be replaced by Oxide a Chromium-powered webview by 14.04. There has been a lot of discussions arround the user-agent because many large sites(Facebook, Google, Twitter, Yahoo etc..) are sniffing the UA(for iPhone or Android tokens) to serve the mobile version of the site.">
    <meta name="keywords" content="ubuntuplanet, utouchdev">
    <meta property="og:image" content="http://daker.me/assets/images/avatar.png">
    <meta property="og:title" content="Ubuntu Touch User-Agent — Adnane Belmadiaf's Blog">
    <meta property="og:site_name" content="Adnane Belmadiaf's Blog">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@AdnaneBelmadiaf">
    <meta property="twitter:image" content="http://daker.me/assets/images/avatar.png">
    <meta property="twitter:title" content="Ubuntu Touch User-Agent — Adnane Belmadiaf's Blog">
    <meta property="twitter:url" content="http://daker.me/2013/11/ubuntu-touch-user-agent.html">
    <meta name="twitter:creator" content="@AdnaneBelmadiaf">
    <meta property="og:description" content="With the launch of Ubuntu Touch v1.0, the OS now ships its own QtWebKit based browser which will be replaced by Oxide a Chromium-powered webview by 14.04. There has been a lot of discussions arround the user-agent because many large sites(Facebook, Google, Twitter, Yahoo etc..) are sniffing the UA(for iPhone or Android tokens) to serve the mobile version of the site.">
    <meta name="twitter:description" content="With the launch of Ubuntu Touch v1.0, the OS now ships its own QtWebKit based browser which will be replaced by Oxide a Chromium-powered webview by 14.04. There has been a lot of discussions arround the user-agent because many large sites(Facebook, Google, Twitter, Yahoo etc..) are sniffing the UA(for iPhone or Android tokens) to serve the mobile version of the site.">
    <link rel="prev" title="Package your Webapp for Ubuntu Touch" href="http://daker.me/2013/10/package-your-webapp-for-ubuntu-touch.html" />
    
    <meta property="article:author" content="https://www.facebook.com/AdnaneBelmadiaf" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/apple-touch-icon-precomposed-144.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/apple-touch-icon-precomposed-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/apple-touch-icon-precomposed-72.png">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="alternate" href="/feed.xml" type="application/atom+xml">
    <link rel="alternate" href="/feed-ubuntuplanet.xml" type="application/atom+xml">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41135963-1', 'daker.me');
      ga('send', 'pageview');
    </script>
</head>
<body itemscope itemtype="http://schema.org/CreativeWork">
    <section id="header">
        <form action="." id="searchForm">
            <input type="search" placeholder="Search..." name="q" id="q" accesskey="s" autocomplete="off" required="">
        </form>
        <div id="nav">
            <a href="/">Blog</a>
            <a href="/archives/">Archives</a>
            <a href="/demos/">Demos</a>
            <a href="/feed.xml">Feed</a>
        </div>
    </section>

    <div class="container" id="container">
        <aside id="sidebar">
            <a href="/" class="post-author-image" title="Homepage">
                <img src="/assets/images/avatar.png" alt="Avatar">
            </a>
            <div class="post-author-info">
                <span class="post-author-name">Adnane Belmadiaf</span>
                <p>
                    Front-end developer
                </p>
                <div class="post-author-icons">
                    <a href="https://launchpad.net/~daker" class="icon-tux" title="Launchpad" target="_blank"></a>
                    <a href="https://github.com/daker" class="icon-github" title="Github" target="_blank"></a>
                    <a href="https://plus.google.com/101694416703170881163" class="icon-google-plus" title="Google Plus" target="_blank"></a>
                    <a href="https://twitter.com/AdnaneBelmadiaf" class="icon-twitter" title="Twitter" target="_blank"></a>
                    <a style="margin-right: 0;" href="/feed.xml" class="icon-feed" title="RSS feed" target="_blank"></a>
                </div>
            </div>
            
<div class="post-published-date"> <strong>Published</strong>
    <p>
        <time datetime="2013-11-06 19:00:00+01:00" class="post-date">Nov 06, 2013 at 19:00</time>
    </p>
</div>

<div class="post-tags">
    <strong>Tags</strong>
    <p>
        
        <a href="/tags/ubuntuplanet/" itemprop="keywords">#ubuntuplanet</a>, 
        
        <a href="/tags/utouchdev/" itemprop="keywords">#utouchdev</a>
        
    </p>
</div>


            <div id="bsap_1290676" class="bsarocks bsap_af6bf8f7d59e09aa41173c9e7d776de9"></div>
            <a href="http://adpacks.com" id="bsap_aplink">via Ad Packs</a>
        </aside>

        <section class="posts">
            
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <h1 itemprop="name headline" class="post-title">Ubuntu Touch User-Agent</h1>
    </header>
    <div class="post-social">
        <div class="post-social-button">
            <fb:like href="http://daker.me/2013/11/ubuntu-touch-user-agent.html" send="false" show_faces="false"  layout="button_count" width="92" ></fb:like>
        </div>
        <div class="post-social-button">
            <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://daker.me/2013/11/ubuntu-touch-user-agent.html" data-count="horizontal" data-text="Ubuntu Touch User-Agent" data-via="AdnaneBelmadiaf" data-related="AdnaneBelmadiaf"></a>
        </div>
        <div class="post-social-button">
        <a class="FlattrButton" style="display:none;" href="http://daker.me/2013/11/ubuntu-touch-user-agent.html" title="Ubuntu Touch User-Agent" data-flattr-uid="daker" data-flattr-button="compact" data-flattr-tags="ubuntuplanet, utouchdev" data-flattr-category="text" data-flattr-lang="en_US">With the launch of Ubuntu Touch v1.0, the OS now ships its own QtWebKit based browser which will be replaced by Oxide a Chromium-powered webview by 14.04. There has been a lot of discussions arround the user-agent because many large sites(Facebook, Google, Twitter, Yahoo etc..) are sniffing the UA(for iPhone or Android tokens) to serve the mobile version of the site.</a>
        </div>
        <div class="post-social-button">
            <a href="http://bufferapp.com/add" class="buffer-add-button" data-count="horizontal" data-url="http://daker.me/2013/11/ubuntu-touch-user-agent.html" data-via="AdnaneBelmadiaf" data-picture="http://daker.me/assets/images/avatar.png"></a>
        </div>

        <div class="post-social-button">
            <div class="g-plusone" data-size="medium" data-href="http://daker.me/2013/11/ubuntu-touch-user-agent.html"></div>
        </div>
    </div>
    <div class="post-content">
        <div class="post-field body" itemprop="articleBody"><p>With the launch of <a href="http://www.ubuntu.com/phone/install">Ubuntu Touch</a> v1.0, the OS now ships its own QtWebKit based browser which will be replaced by <a href="https://launchpad.net/oxide">Oxide</a> a Chromium-powered webview by 14.04. There has been a lot of <a href="https://bugs.launchpad.net/webbrowser-app/+bug/1179596">discussions</a> arround the user-agent because many large sites(Facebook, Google, Twitter, Yahoo etc..) are sniffing the UA(for iPhone or Android tokens) to serve the mobile version of the site.</p>

<p>Adding an Android or iPhone token will lead to unwanted behaviours, like showing ads for the Android app or even trying to open the Google Play app or the Youtube app. The browser now reports it in the following formats, depending on whether the device is a phone or a tablet, with the addition of an <a href="https://bazaar.launchpad.net/%7Ephablet-team/webbrowser-app/trunk/view/head:/src/Ubuntu/Components/Extras/Browser/ua-overrides.js">override mechanism</a> that will override the UA on the fly and the site will serve us a proper mobile content.</p>

<p><img src="/assets/posts/utouch/1.png" alt="Facebook Android Ads"></p>
<h1>Phone</h1><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>Mozilla/5.0 <span class="o">(</span>Ubuntu; Mobile<span class="o">)</span> WebKit/537.21
</pre></div>
</td></tr></table></div></div><h1>Tablet</h1><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>Mozilla/5.0 <span class="o">(</span>Ubuntu; Tablet<span class="o">)</span> WebKit/537.21
</pre></div>
</td></tr></table></div></div><h1>Pattern</h1><div class="code"><div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>Mozilla/5.0 <span class="o">(</span>Ubuntu; <span class="nv">$FormFactor</span><span class="o">)</span> WebKit/<span class="nv">$WebKitRev</span>
</pre></div>
</td></tr></table></div></div>
<p>You can also get it through JavaScript using the <code>navigator.userAgent</code></p>

<p><img src="/assets/posts/utouch/2.png" alt="Using the console"></p>

<p>So if you are doing UA sniffing it&#39;s really better to look for &quot;Mobile&quot; rather than looking the OS identifier.</p>
</div>
    </div>

    <form action="http://daker.us7.list-manage.com/subscribe/post?u=ebd280d4e0da7cce97bd7a8ad&amp;id=327b2cec50" method="post" id="signup" name="signup-form">
        <div class="row">
            <input type="email" name="EMAIL" id="email" required="required" placeholder="Your E-mail address will be safe.">
            <a href="/feed.xml" class="icon-feed " title="Subscribe to the RSS feed" target="_blank"></a>
            <input type="submit" value="Subscribe" name="subscribe" id="subscribe-btn">
        </div>
    </form>
    <div id="response" style="display:none"></div>
    <div class="notice">By joining you'll receive a weekly e-mail with latest blog posts each Wednesday. Easy unsubscribe. No spam — your e-mail address will be safe.</div>

    
    <div class="prev-next">
        
        <div class="prev-post">
            <a href="/2013/10/package-your-webapp-for-ubuntu-touch.html" title="Package your Webapp for Ubuntu Touch" class="title">
                <span>Package your Webapp for Ubuntu Touch</span>
            </a>
        </div>
        
        
    </div>
    
</article>
<section id="comment">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'daker-blog';
        var disqus_title = 'Ubuntu Touch User-Agent';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
</section>

        </section>
    </div>
    <div style="clear: both;"></div>
    <footer id="footer">
        <p class="copyright">
            Copyright &copy; 2013 Adnane Belmadiaf<br />
            This work is licensed under a <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a></p>
    </footer>
    <script type="text/javascript">
            (function(){
              var bsa = document.createElement('script');
                 bsa.type = 'text/javascript';
                 bsa.async = true;
                 bsa.src = '//s3.buysellads.com/ac/bsa.js';
              (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
            })();
    </script>
    <script type="text/javascript" charset="utf-8" src="//code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/jquery.ba-hashchange.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="/assets/js/main.js"></script>
    
<script type="text/javascript" src="//connect.facebook.net/en_US/all.js#xfbml=1"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>
<script type="text/javascript" src="http://static.bufferapp.com/js/button.js"></script>
<script type="text/javascript">
(function() {
    var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
    s.type = 'text/javascript';
    s.async = true;
    s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
    t.parentNode.insertBefore(s, t);
})();
</script>
</body>
</html>